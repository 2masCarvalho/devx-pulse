# Project: DevX Pulse (Cloudflare PM Assignment)

## 1. Product Vision
**DevX Pulse** is an internal tool designed for the Cloudflare Developer Platform team. It aggregates unstructured product feedback from various sources (Discord, Twitter, Support Tickets) and uses AI to extract meaningful insights.

**Core Value Proposition:**
Unlike generic tools, DevX Pulse segments feedback by **User Tier** (Free vs. Enterprise vs. Pro) and **Product Area** (Workers, D1, AI), allowing PMs to separate "noise" from critical revenue-impacting issues.

## 2. Technical Architecture
We are using a Serverless-first architecture on the Cloudflare Developer Platform:
* **Host:** Cloudflare Workers (TypeScript).
* **Database:** Cloudflare D1 (SQLite) to store feedback and analysis results.
* **Intelligence:** Workers AI (`@cf/meta/llama-3-8b-instruct`) for Sentiment Analysis and Summarization.
* **Frontend:** Server-Side Rendered (SSR) HTML generated directly by the Worker, styled with Tailwind CSS (via CDN).

## 3. Data Structure (Schema)
The D1 Database table `feedback` has the following columns:
* `id`: INTEGER PRIMARY KEY
* `source`: TEXT (e.g., Discord, Twitter)
* `user_tier`: TEXT (Free, Pro, Enterprise)
* `product_area`: TEXT (Workers, D1, AI)
* `sentiment`: TEXT (Negative, Neutral, Positive) - *Generated by AI*
* `content`: TEXT (Raw user message)
* `ai_analysis`: TEXT (1-sentence summary) - *Generated by AI*

## 4. Current Progress
* [x] **Project Setup:** Initialized `npm create cloudflare`. `wrangler.jsonc` configured with AI and D1 bindings.
* [x] **Database:** `schema.sql` created and executed locally.
* [x] **Backend Logic:** `src/index.ts` handles `POST /` requests. It accepts a JSON array, runs Llama-3 inference for each item, and saves the result to D1 (ignoring the mock data's pre-filled sentiment).
* [x] **Verification:** Tested locally with `curl` and confirmed data is saving correctly.

## 5. Remaining Implementation Steps (The "To-Do")
The goal is to move from a CLI-only tool to a functional MVP with a UI.

### Step A: Implement the Frontend (UI)
Update `src/index.ts` to handle `GET /` requests:
1.  Fetch the latest 50 items from D1 (`SELECT * FROM feedback ORDER BY id DESC`).
2.  Render a clean HTML page using a template literal string.
3.  **UI Requirements:**
    * Use Tailwind CSS via CDN for styling.
    * Display a responsive table with columns: Source, Tier, Product, Sentiment, Summary.
    * **Visual Logic:**
        * If Sentiment is "Negative" -> Row background or badge should be Red/Orange.
        * If Sentiment is "Positive" -> Green.
        * If Tier is "Enterprise" -> Add a specific badge or bold text (High Priority).
    * Add a simple "Refresh Data" button that reloads the page.

### Step B: Deployment
1.  Deploy the Worker to the global network (`npx wrangler deploy`).
2.  Initialize the remote D1 database schema (`npx wrangler d1 execute ... --remote`).
3.  Verify the live URL.

## 6. Product Friction Log (For Final Report)
*Notes on the developer experience so far:*
1.  **Docs vs. CLI Mismatch:** Tutorials reference `wrangler.toml`, but CLI generates `wrangler.jsonc`. Confusing for binding configuration.
2.  **Local Dev Block:** `wrangler dev` blocked on first run requiring a subdomain registration in the browser.
3.  **State Sync Issue:** CLI didn't recognize the subdomain creation immediately, requiring a logout/login.